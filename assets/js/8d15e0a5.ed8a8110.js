"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[992],{4139:(e,n,t)=>{function a(e){const n=e.split("\n"),t=n.filter((e=>""!==e.trim())).reduce(((e,n)=>Math.min(e,n.search(/\S/))),1/0);return n.map((e=>e.slice(t))).join("\n").trim()}t.d(n,{Z:()=>a})},9997:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>c,default:()=>b,frontMatter:()=>p,metadata:()=>m,toc:()=>k});var a=t(7462),i=(t(7294),t(4137)),r=t(425),o=t(3992),l=(t(5944),t(9319)),d=t(4139),s=t(9524);const p={},c="Header & Footer",m={unversionedId:"guides/header-footer",id:"guides/header-footer",title:"Header & Footer",description:"For the sake of brevity in our documentation, we will use the term marginals to collectively refer to headers and footers.",source:"@site/docs/guides/header-footer.md",sourceDirName:"guides",slug:"/guides/header-footer",permalink:"/obsidian-typing/docs/guides/header-footer",draft:!1,editUrl:"https://github.com/konodyuk/obsidian-typing/tree/main/docs/docs/guides/header-footer.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Prefix",permalink:"/obsidian-typing/docs/guides/prefix"},next:{title:"Links",permalink:"/obsidian-typing/docs/guides/link"}},u={},k=[{value:"Configuration Syntax",id:"configuration-syntax",level:2},{value:"Markdown Marginals",id:"markdown-marginals",level:2},{value:"React Marginals",id:"react-marginals",level:2},{value:"1. Function Approach",id:"1-function-approach",level:3},{value:"2. Expression Approach",id:"2-expression-approach",level:3},{value:"Context Variables",id:"context-variables",level:3},{value:"Static Context",id:"static-context",level:4},{value:"Dynamic Context",id:"dynamic-context",level:4},{value:"Error Handling",id:"error-handling",level:3},{value:"Example",id:"example",level:2}],h=(g="OTLSyntaxCodeBlock",function(e){return console.warn("Component "+g+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",e)});var g;const f={toc:k},y="wrapper";function b(e){let{components:n,...t}=e;return(0,i.kt)(y,(0,a.Z)({},f,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"header--footer"},"Header & Footer"),(0,i.kt)("p",null,"For the sake of brevity in our documentation, we will use the term ",(0,i.kt)("strong",{parentName:"p"},"marginals")," to collectively refer to headers and footers."),(0,i.kt)("p",null,"Headers and footers allow you to automatically insert markdown content or custom React components at the beginning and end of your notes. The distinct advantage here is the capability to configure marginals individually for each note type, offering tailored interfaces for notes of various purposes."),(0,i.kt)("h2",{id:"configuration-syntax"},"Configuration Syntax"),(0,i.kt)("p",null,"Marginals belong to the ",(0,i.kt)("inlineCode",{parentName:"p"},"style")," section and can be specified as:"),(0,i.kt)(h,{mdxType:"OTLSyntaxCodeBlock"},"type TypeName {\n    style {\n        header = <#FUNCTION | #EXPR | #MARKDOWN>\n        footer = <#FUNCTION | #EXPR | #MARKDOWN>\n    }\n}"),(0,i.kt)("h2",{id:"markdown-marginals"},"Markdown Marginals"),(0,i.kt)("p",null,"When you simply need to introduce basic content elements like headers, text, lists, or code blocks, utilize markdown. Here's how to specify a markdown marginal:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-otl"},'type TypeName {\n    style {\n        header = md"""\n            Some **markdown** content.\n\n            ```dataview\n            some query\n            ```\n            ...other content...\n        """\n    }\n}\n')),(0,i.kt)("p",null,"The tags ",(0,i.kt)("inlineCode",{parentName:"p"},"markdown")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"md")," both indicate a markdown string."),(0,i.kt)("h2",{id:"react-marginals"},"React Marginals"),(0,i.kt)("p",null,"For a more customized experience, React components come into play. There are two primary methods to define them:"),(0,i.kt)("h3",{id:"1-function-approach"},"1. Function Approach"),(0,i.kt)("p",null,"Utilize the ",(0,i.kt)("inlineCode",{parentName:"p"},"fn")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"function")," tag to script a function returning a React component:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-otl"},'type TypeName {\n    style {\n        header = fn"""\n            import {Anything} from "anywhere"\n            // process as required\n            return <Anything>{any <b>react</b> element}</Anything>\n        """\n    }\n}\n')),(0,i.kt)("h3",{id:"2-expression-approach"},"2. Expression Approach"),(0,i.kt)("p",null,"If your function is succinct, limited to a single expression such as:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-otl"},'type TypeName {\n    style {\n        header = fn"""\n            return <div>I am a header.</div>\n        """\n    }\n}\n')),(0,i.kt)("p",null,"You can simplify it further using the ",(0,i.kt)("inlineCode",{parentName:"p"},"expr")," tag:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-otl"},'type TypeName {\n    style {\n        header = expr"""<div>I am a header.</div>"""\n    }\n}\n')),(0,i.kt)("h3",{id:"context-variables"},"Context Variables"),(0,i.kt)("h4",{id:"static-context"},"Static Context"),(0,i.kt)("p",null,"Accessible in every ",(0,i.kt)("inlineCode",{parentName:"p"},"fn")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"expr"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"note"),": The current ",(0,i.kt)("inlineCode",{parentName:"li"},"Note")," object."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"api"),": The global ",(0,i.kt)("inlineCode",{parentName:"li"},"TypingAPI")," object.")),(0,i.kt)("h4",{id:"dynamic-context"},"Dynamic Context"),(0,i.kt)("p",null,"Contained within the ",(0,i.kt)("inlineCode",{parentName:"p"},"ctx")," object with the following properties:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"container"),": The HTML container designated for the marginal."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"component"),": The Obsidian ",(0,i.kt)("inlineCode",{parentName:"li"},"Component")," object associated with the current block."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"reload()"),": Triggers a rerender of the current marginal."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"disableAutoreload()"),": Disables automatic rerendering of the current marginal on metadata change."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"on(event, callback)"),": Registers a callback for events from the ",(0,i.kt)("inlineCode",{parentName:"li"},"app.metadataCache"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"register(callback)"),": Sets a callback to be invoked when the marginal is unloaded."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"registerEvent(eventRef)"),": Registers an event reference to be detached during the unloading of the marginal.")),(0,i.kt)("h3",{id:"error-handling"},"Error Handling"),(0,i.kt)("p",null,"Should any errors occur while rendering the marginal, an error block will replace the marginal. This block can be expanded to view a comprehensive stacktrace, aiding in debugging."),(0,i.kt)("h2",{id:"example"},"Example"),(0,i.kt)(o.Z,{mdxType:"Tabs"},(0,i.kt)(r.Z,{value:"otl",label:"OTL",mdxType:"TabItem"},(0,i.kt)(l.Z,{language:"otl",mdxType:"CodeBlock"},(0,d.Z)('\n            type Issue {\n                style {\n                    header = fn"""\n                        import {Breadcrumb} from "packages/breadcrumb"\n                        import {Wikihead} from "packages/wiki"\n                        return <>\n                            <Breadcrumb note={note} base={"apps/Issues.md"} />\n                            <Wikihead note={note} exclude={["in"]} />\n                        </>\n                    """\n                    footer = fn"""\n                        import {IssueFooter} from "./footer"\n                        return <IssueFooter note={note} />\n                    """\n                }\n            }\n        '))),(0,i.kt)(r.Z,{value:"source",label:"Source View",mdxType:"TabItem"},(0,i.kt)(l.Z,{language:"markdown",mdxType:"CodeBlock"},(0,d.Z)('\n            status :: active\n            priority :: 4\n            in :: [[PRJ Project One]]\n            due :: 2023-10-31\n            deps :: [[I-1 Do this]], [[I-4 Write docs!!!]]\n            tags :: "refactor",\n\n            Subtasks:\n            - [ ] one\n            - [ ] two\n        '))),(0,i.kt)(r.Z,{value:"preview",label:"Preview View",mdxType:"TabItem"},(0,i.kt)("center",null,(0,i.kt)("img",{className:"imgDemo",src:(0,s.Z)("/img/issue-header-footer-1.png")})))))}b.isMDXComponent=!0}}]);